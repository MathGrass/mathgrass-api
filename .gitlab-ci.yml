pages:
  image: python:latest
  stage: deploy
  only:
    changes:
      - docs/**/*
      - mkdocs.yml
  script:
    - pip install mkdocs
    - mkdocs build --site-dir public
  artifacts:
    paths:
      - public

test-api:
  image: eclipse-temurin:17
  stage: test
  script:
    - cd "api"
    - ./gradlew generateApi
    - ./gradlew check

build-api:
  image: eclipse-temurin:17
  stage: build
  script:
    - cd "api"
    - ./gradlew generateApi
    - ./gradlew build
